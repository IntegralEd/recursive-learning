<!-- _includes/welcome_affirmations.html -->
<div class="welcome-section">
  <h1>Welcome!</h1>
  <p>
    Access maternal health resources as a public user.
    Please note that this is an agreement for public use 
    and not medical advice, in line with our style guide.
  </p>

  <div class="affirmation-container">
    <label>
      <input type="checkbox" id="tos" onclick="checkAffirmations()" />
      I affirm the terms of service.
    </label>
    <label>
      <input type="checkbox" id="norms" onclick="checkAffirmations()" />
      I affirm the community norms and guidelines.
    </label>
    <label>
      <input type="checkbox" id="acknowledge" onclick="checkAffirmations()" />
      I acknowledge this is a monitored public health resource.
    </label>
  </div>

  <!-- The "Next" button navigates to the chat section -->
  <button id="next-button" class="next-button" onclick="showSection('chat')" disabled>
    Next
  </button>

  <!-- The "Account" button, if needed, might open a sign-up flow -->
  <button id="account-button" class="account-button" onclick="redirectToIntake()" disabled>
    Create Account to Save Chat
  </button>
</div>

<script>
  function checkAffirmations() {
    const tos = document.getElementById('tos').checked;
    const norms = document.getElementById('norms').checked;
    const acknowledge = document.getElementById('acknowledge').checked;
    const nextButton = document.getElementById('next-button');
    const accountButton = document.getElementById('account-button');

    if (tos && norms && acknowledge) {
      nextButton.disabled = false;
      nextButton.classList.add('enabled');
      accountButton.disabled = false;
      accountButton.classList.add('enabled');
    } else {
      nextButton.disabled = true;
      nextButton.classList.remove('enabled');
      accountButton.disabled = true;
      accountButton.classList.remove('enabled');
    }
  }
</script>
